<% let highlighter = []; %>
<pre class="mermaid">
    flowchart TD
      <% if(servers?.length) { %>
        subgraph "\nServers"
        <% for( let server of servers){ %>
            <%= server.replaceAll(/[\(\)\[\]\{\}]/g, "")%>(["<%= server %>"])
        <% } %> 
        end
      <% } %>
      <% if(channels?.length) { %>  
        subgraph "\nChannels"
        <% for( let channel of channels){ %>
            <%= channel.replaceAll(/[\(\)\[\]\{\}]/g, "")%>(["<%= channel %>"])
        <% } %> 
        end
      <% } %>
      <% if(operations?.length) { %>  
        subgraph "\nOperations"
        <% for( let operation of operations){ %>
            <%= operation.replaceAll(/[\(\)\[\]\{\}]/g, "")%>(["<%= operation %>"])
        <% } %> 
        end
      <% } %>
      <% if(messages?.length) { %>  
        subgraph "\nMessages"
        <% for( let message of messages){ %>
            <%= message.replaceAll(/[\(\)\[\]\{\}]/g, "")%>(["<%= message %>"])
        <% } %> 
        end
      <% } %>  
        <% for( let relation of relations) {  %>
        <%= relation.replaceAll(/[\(\)\[\]\{\}]/g, "") %>
        <% let [leftSideObject, rightSideObject] = relation.replaceAll(/[\(\)\[\]\{\}]/g, "").split(" --> "); %>
        
        <% } %>
</pre>

  